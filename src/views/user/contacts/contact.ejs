<% if (Banner && Banner.image_path) { %>
<div class="banner" style="background-image:url('<%= Banner.image_path %>')">
    <div class="banner-overlay"></div>
    <div class="banner-text">
        <h2 style="color:white;"></h2>
    </div>
</div>
<% } %>

<div class="container text-white py-5">
    <h3 class="fw-medium mb-4 text-center" style="font-size: 30px;">Contact Us</h3>
    <p class="text-center" style="font-size: 18px;">
        Have a question or need assistance? At Opti-Reserve, we're here to help you manage all your resource reservations and booking needs.
Whether you want to book a facility, inquire about available resources, or need support with your upcoming reservation,
our team is just a message away. Let us make your booking and resource management experience smooth and effortless!
    </p>

    <% if (message) { %>
        <div class="alert alert-success text-center mt-4"><%= message %></div>
    <% } %>

    <% if (errors && errors.length) { %>
        <div class="alert alert-danger mt-4">
            <ul>
                <% errors.forEach(err => { %>
                    <li><%= err %></li>
                <% }) %>
            </ul>
        </div>
    <% } %>

    <form action="/contacts/store" id="myForm" method="post" class="mt-5">
        <div class="row">
            <div class="col-md-6 mb-3">
                <label>First Name *</label>
                <input name="first_name" type="text" class="form-control" required>
            </div>
            <div class="col-md-6 mb-3">
                <label>Last Name *</label>
                <input name="last_name" type="text" class="form-control" required>
            </div>
            <div class="col-md-6 mb-3">
                <label>Email *</label>
                <input name="email" type="email" class="form-control" required>
            </div>
            <div class="col-md-6 mb-3">
                <label>Mobile *</label>
                <input name="phone" type="tel" class="form-control" required>
            </div>
            <div class="col-md-12 mb-3">
                <label>Comments</label>
                <textarea name="comments" class="form-control" required></textarea>
            </div>
        </div>

        <label>* How would you like us to respond?</label>
        <div class="d-flex flex-wrap gap-3">
            <div class="form-check">
                <input type="checkbox" id="checkboxCall" name="informBY[]" value="Call" class="form-check-input">
                <label for="checkboxCall" class="form-check-label">Call</label>
            </div>
            <div class="form-check">
                <input type="checkbox" id="checkboxWhatsapp" name="informBY[]" value="Whatsapp" class="form-check-input">
                <label for="checkboxWhatsapp" class="form-check-label">Whatsapp</label>
            </div>
            <div class="form-check">
                <input type="checkbox" id="checkboxSMS" name="informBY[]" value="SMS" class="form-check-input">
                <label for="checkboxSMS" class="form-check-label">SMS</label>
            </div>
        </div>

        <div id="error-message" class="error-message mt-2">Please select at least one option.</div>

        <button type="submit" class="btn btn-primary mt-4">Submit</button>
    </form>

  
<script>
    document.getElementById('myForm').addEventListener('submit', function(event) {
        const checkboxes = document.querySelectorAll('input[type="checkbox"]');
        const checked = Array.from(checkboxes).some(ch => ch.checked);
        const errorMessage = document.getElementById('error-message');

        if (!checked) {
            event.preventDefault();
            errorMessage.style.display = 'block';
        } else {
            errorMessage.style.display = 'none';
        }
    });
</script>
